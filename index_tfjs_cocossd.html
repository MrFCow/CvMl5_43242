<!DOCTYPE html>
<html>
	<head>
		<!-- jQuery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

		<!-- p5js -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/p5.js"></script>
		<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.10.2/addons/p5.sound.min.js"></script>-->

		<!-- Load TensorFlow.js. This is required to use coco-ssd model. -->
		<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"> </script>
		<!-- Load the coco-ssd model. -->
		<script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"> </script>

		<!-- Debug Promise -->
		<script src="https://cdn.jsdelivr.net/npm/bluebird@3.7.2/js/browser/bluebird.js"></script>

		<!-- Screen log debug -->
		<script src="https://cdn.jsdelivr.net/npm/screenlog@0.3.0/screenlog.min.js" type="text/javascript"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				screenLog.init();
				console.log("start");
			});
		</script>

		<meta charset="utf-8" />

	</head>
	<body>
	<script type="text/javascript">
		window.onerror = function(msg, url, line, col, error) {
			// Note that col & error are new to the HTML 5 spec and may not be 
			// supported in every browser.  It worked for me in Chrome.
			var extra = !col ? '' : '\ncolumn: ' + col;
			extra += !error ? '' : '\nerror: ' + error;

			// You can view the information in an alert to see things working like this:
			error_msg = "Error: " + msg + "\nurl: " + url.replace(/^.*[\\\/]/, '') + "\nline: " + line + extra
			if (screenLog.isInitialized){
				console.log(error_msg);
			}
			else{
				alert(error_msg)
			}

			// TODO: Report this error via ajax so you can keep track
			//       of what pages have JS issues

			var suppressErrorAlert = true;
			// If you return true, then error alerts (like in older versions of 
			// Internet Explorer) will be suppressed.
			return suppressErrorAlert;
		};
	</script>

	<!-- Not working for some reason
	<script type="text/javascript">
		$(document).ready(function () {
			const r = Math.random().toString(36).substring(7);
			$.getScript("sketch_tfjs_cocossd.js?version="+r, function(data, textStatus, jqxhr) {
				console.log(data); //data returned
				console.log(textStatus); //success
				console.log(jqxhr.status); //200
				console.log('Load was performed.');
			});
		});
	</script>
	-->
    <script src="sketch_tfjs_cocossd.js?version=201912151951"></script>
	<div><button onclick="swap()">swap camera</button></div>
	</body>
</html>
